<!doctype html>
<!-- Indica que este es un documento HTML5 -->
<html>
	<!-- Inicio del documento HTML -->
	<head>
		<!-- Sección de la cabecera del documento -->
	</head>
	<!-- Fin de la cabecera -->
	<body>
		<input />
		<!-- Campo de entrada de texto para que el usuario ingrese su nombre -->

		<script>
			<!-- Inicio del bloque de código JavaScript -->
			// Selecciona el elemento <input> en la página
			var entrada = document.querySelector("input");

			// Define un evento que se ejecuta cuando el valor del input cambia
			entrada.onchange = function () {
				// Muestra en la consola un mensaje junto con el valor ingresado por el usuario
				console.log("Ok te has identificado como", this.value);

				// Realiza una petición HTTP GET al archivo "006.php"
				// Pasando el valor del input como parámetro en la URL
				fetch("006.php?usuario=" + encodeURI(this.value))
					// Cuando se recibe la respuesta, se convierte a texto
					.then(function (response) {
						return response.text();
					})
					// Cuando se obtiene el texto, se procesa como JSON
					.then(function (datos) {
						// Muestra el texto crudo recibido desde "006.php"
						console.log(datos);

						// Convierte el texto recibido en un objeto JavaScript utilizando JSON.parse()
						let conjunto = JSON.parse(datos);

						// Muestra el objeto convertido en la consola
						console.log(conjunto);
					});
			};
		</script>
		<!-- Fin del bloque de código JavaScript -->
	</body>
	<!-- Fin del cuerpo del documento -->
</html>
<!-- Fin del documento HTML -->
